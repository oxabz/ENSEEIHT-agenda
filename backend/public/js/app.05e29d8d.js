(function(t){function e(e){for(var a,c,s=e[0],o=e[1],l=e[2],u=0,b=[];u<s.length;u++)c=s[u],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&b.push(r[c][0]),r[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);d&&d(e);while(b.length)b.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==r[o]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function c(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"a1ebc6c8"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=r[t]=[e,a]}));e.push(n[2]=a);var i,o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=c(t);var l=new Error;i=function(e){o.onerror=o.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,n[1](l)}r[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:o})}),12e4);o.onerror=o.onload=i,document.head.appendChild(o)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"09c9":function(t,e,n){},"0b03":function(t,e,n){"use strict";n("2bf9")},1:function(t,e){},"1b4e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg=="},"2bf9":function(t,e,n){},"42cb":function(t,e,n){},"4c5c":function(t,e,n){"use strict";n("42cb")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={class:""};function i(t,e){var n=Object(a["B"])("router-view");return Object(a["t"])(),Object(a["f"])("main",r,[Object(a["i"])(n)])}n("d070");var c=n("6b0d"),s=n.n(c);const o={},l=s()(o,[["render",i],["__scopeId","data-v-6de29128"]]);var u=l,d=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),b=function(t){return Object(a["w"])("data-v-1c1b2126"),t=t(),Object(a["u"])(),t},f={class:"home hero min-h-screen bg-base-200"},g={class:"text-center hero-content"},h={class:"max-w-lg"},p=b((function(){return Object(a["g"])("h1",{class:"mb-7 text-4xl font-bold"}," ENSEEIHT-Agenda ",-1)})),m=b((function(){return Object(a["g"])("p",{class:"mb-5"}," Utilisez cette agenda révolutionaire dés aujourd'hui! ",-1)})),O={class:"flex"},j=b((function(){return Object(a["g"])("span",{class:"divider divider-vertical opacity-30"},null,-1)})),v={key:0,class:"start-option"},y=b((function(){return Object(a["g"])("p",{class:"text-left text-xs opacity-80"},"Connectez vous pour acceder à tout vos calendriers privés",-1)})),D=Object(a["h"])("Me Connecter"),w={key:1,class:"start-option"},A=b((function(){return Object(a["g"])("p",{class:"text-left text-xs opacity-80"},"Accedez à tout vos calendriers privés",-1)})),x=Object(a["h"])("Mes Agendas"),I=b((function(){return Object(a["g"])("span",{class:"divider opacity-30"},null,-1)}));function E(t,e,n,r,i,c){var s=Object(a["B"])("NewAgenda"),o=Object(a["B"])("router-link"),l=Object(a["B"])("RecentAgenda");return Object(a["t"])(),Object(a["f"])("div",f,[Object(a["g"])("div",g,[Object(a["g"])("div",h,[p,m,Object(a["g"])("div",O,[Object(a["i"])(s,{class:"start-option",title:"Créez votre premier calendrier anonymement",label:"Go !",onCreate:c.handleCreate},null,8,["onCreate"]),j,this.$store.state.login.login?(Object(a["t"])(),Object(a["f"])("div",w,[A,Object(a["i"])(o,{class:"w-full mt-2 btn btn-primary",to:"/myAgendas"},{default:Object(a["I"])((function(){return[x]})),_:1})])):(Object(a["t"])(),Object(a["f"])("div",v,[y,Object(a["i"])(o,{class:"w-full mt-2 btn btn-primary",to:"/login"},{default:Object(a["I"])((function(){return[D]})),_:1})]))]),I,Object(a["i"])(l,{class:"my-8"})])])])}var T={class:"form-control"},M={class:"label",for:"title"},k={class:"label-text text-left text-xs opacity-80"},C={class:"relative"};function S(t,e,n,r,i,c){return Object(a["t"])(),Object(a["f"])("div",T,[Object(a["g"])("label",M,[Object(a["g"])("span",k,Object(a["D"])(this.title),1)]),Object(a["g"])("div",C,[Object(a["J"])(Object(a["g"])("input",{class:"w-full pr-16 input input-primary input-bordered","onUpdate:modelValue":e[0]||(e[0]=function(t){return i.newAgendaName=t}),onKeyup:e[1]||(e[1]=Object(a["K"])((function(){return c.submit&&c.submit.apply(c,arguments)}),["enter"])),type:"text",placeholder:"Titre",name:"title"},null,544),[[a["G"],i.newAgendaName]]),Object(a["g"])("button",{class:"absolute top-0 right-0 rounded-l-none btn btn-primary",onClick:e[2]||(e[2]=function(){return c.submit&&c.submit.apply(c,arguments)})},Object(a["D"])(this.label),1)])])}var B={props:["label","title","onCreate","private"],name:"NewAgenda",data:function(){return{newAgendaName:""}},methods:{submit:function(){var t=this,e={name:this.newAgendaName};0!=this.newAgendaName.length&&(this.private&&(e.userId="self"),this.$store.dispatch("agenda/createAgenda",e).then((function(e){t.onCreate&&t.onCreate(e)})).catch((function(t){console.error("Failed creating an agenda : ",t)})))}}};const R=s()(B,[["render",S]]);var N=R,J=(n("b0c0"),Object(a["g"])("h2",{class:"text-left text-xs opacity-80"}," Consultez vos agendas récents : ",-1)),$=["onClick"];function W(t,e,n,r,i,c){return Object(a["t"])(),Object(a["f"])("div",null,[J,Object(a["g"])("ul",null,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(c.recentAgendas,(function(t){return Object(a["t"])(),Object(a["f"])("li",{key:t},[Object(a["g"])("button",{class:"btn btn-ghost w-full",onClick:function(e){return c.submit(t)}},Object(a["D"])(t.name),9,$)])})),128))])])}n("4de4"),n("d81d");var P={computed:{recentAgendas:function(){var t=this.$store.state.agenda;return t.recentagenda.map((function(e){return t.agendas[e]})).filter((function(t){return!!t}))}},methods:{submit:function(t){this.$router.push("/agenda/".concat(t.id))}}};const G=s()(P,[["render",W]]);var L=G,Z={name:"Home",components:{NewAgenda:N,RecentAgenda:L},methods:{handleCreate:function(t){this.$router.push("/agenda/".concat(t.id))}}};n("59c1");const z=s()(Z,[["render",E],["__scopeId","data-v-1c1b2126"]]);var U=z,F={class:"flex flex-row w-screen overflow-auto"},Y={class:"w-full relative h-screen flex flex-col"},H=Object(a["g"])("i",{class:"fas fa-plus text-xl"},null,-1);function V(t,e,n,r,i,c){var s=Object(a["B"])("TimelineNavigation"),o=Object(a["B"])("Agenda",!0),l=Object(a["B"])("MenuButton"),u=Object(a["B"])("Sidebar");return Object(a["t"])(),Object(a["f"])("div",F,[Object(a["g"])("div",Y,[Object(a["i"])(s,{"initial-date":i.startDate,interval:c.interval,changeDate:c.handleChange},null,8,["initial-date","interval","changeDate"]),Object(a["i"])(o,{start:i.startDate,interval:c.interval,entries:c.agendaEntries},null,8,["start","interval","entries"]),Object(a["i"])(l,{class:"absolute right-4 bottom-4 btn-circle",menu:"createEntry"},{default:Object(a["I"])((function(){return[H]})),_:1})]),Object(a["i"])(u)])}var Q=n("3835");n("4fad");function _(t,e,n,r,i,c){return Object(a["t"])(),Object(a["f"])("button",{class:"menu-btn btn",onClick:e[0]||(e[0]=function(t){return c.toggleMenu()})},[Object(a["A"])(t.$slots,"default",{},void 0,!0)])}var X={props:["menu","props"],methods:{toggleMenu:function(){this.$store.state.sidebar.selectedMenu!=this.menu?this.props?this.$store.commit("sidebar/openWithProps",{menu:this.menu,props:this.props}):this.$store.commit("sidebar/open",this.menu):this.$store.commit("sidebar/close")}}};n("df38");const q=s()(X,[["render",_],["__scopeId","data-v-f4bd8270"]]);var K=q,tt=function(t){return Object(a["w"])("data-v-4134f6ea"),t=t(),Object(a["u"])(),t},et=tt((function(){return Object(a["g"])("div",{class:"sidebar-placeholder relative h-full"},null,-1)})),nt={class:"sidebar-container h-screen border-l-2 fixed right-0 top-0"};function at(t,e,n,r,i,c){var s=Object(a["B"])("CreateEntryForm"),o=Object(a["B"])("ShowEntryForm"),l=Object(a["B"])("Agendas");return Object(a["t"])(),Object(a["f"])("div",{class:Object(a["o"])(["sidebar",c.classObject])},[et,Object(a["g"])("div",nt,["createEntry"==this.$store.state.sidebar.selectedMenu?(Object(a["t"])(),Object(a["d"])(s,{key:0})):"showEntry"==this.$store.state.sidebar.selectedMenu?(Object(a["t"])(),Object(a["d"])(o,{key:1})):"agendas"==this.$store.state.sidebar.selectedMenu?(Object(a["t"])(),Object(a["d"])(l,{key:2})):Object(a["e"])("",!0)])],2)}n("a4d3"),n("e01a");var rt=function(t){return Object(a["w"])("data-v-6c18aa34"),t=t(),Object(a["u"])(),t},it={class:"create-entry-form h-full p-5 form-control relative"},ct={class:"flex justify-between"},st={class:"text-lg font-bold"},ot=rt((function(){return Object(a["g"])("i",{class:"fas fa-times"},null,-1)})),lt=[ot],ut=rt((function(){return Object(a["g"])("span",{class:"divider opacity-30"},null,-1)})),dt={key:0,class:"alert alert-error"},bt={class:"flex-1"},ft=rt((function(){return Object(a["g"])("i",{class:"fas fa-exclamation-triangle"},null,-1)})),gt={key:1},ht=rt((function(){return Object(a["g"])("label",{class:"label",for:"agenda"},[Object(a["g"])("span",{class:"label-text text-xs opacity-70"},"Agenda")],-1)})),pt=["value"],mt={class:"form-control"},Ot=rt((function(){return Object(a["g"])("label",{class:"label",for:"title"},[Object(a["g"])("span",{class:"label-text text-xs opacity-70"},"Titre")],-1)})),jt={class:"form-control"},vt=rt((function(){return Object(a["g"])("label",{class:"label",for:"description"},[Object(a["g"])("span",{class:"label-text text-xs opacity-70"},"Description")],-1)})),yt={class:"form-control"},Dt=rt((function(){return Object(a["g"])("label",{class:"label",for:"start"},[Object(a["g"])("span",{class:"label-text text-xs opacity-70"},"Debut")],-1)})),wt={class:"form-control"},At=rt((function(){return Object(a["g"])("label",{class:"label",for:"end"},[Object(a["g"])("span",{class:"label-text text-xs opacity-70"},"Fin")],-1)})),xt={class:"flex justify-end h-full items-end"},It=rt((function(){return Object(a["g"])("i",{class:"fas fa-save mr-1"},null,-1)}));function Et(t,e,n,r,i,c){var s,o,l=this;return Object(a["t"])(),Object(a["f"])("div",it,[Object(a["g"])("div",ct,[Object(a["g"])("h2",st,Object(a["D"])(this.id?"Editer un evenement : ":"Créer un evenement : "),1),Object(a["g"])("button",{class:"btn btn-ghost btn-sm",onClick:e[0]||(e[0]=function(){return c.closeSidebar&&c.closeSidebar.apply(c,arguments)})},lt)]),ut,null!=t.alert?(Object(a["t"])(),Object(a["f"])("div",dt,[Object(a["g"])("div",bt,[ft,Object(a["g"])("label",null,Object(a["D"])(t.alert),1)])])):Object(a["e"])("",!0),null!==(s=t.$route)&&void 0!==s&&null!==(o=s.params)&&void 0!==o&&o.id||void 0==t.agendaId?(Object(a["t"])(),Object(a["f"])("div",gt,[ht,Object(a["J"])(Object(a["g"])("select",{class:"w-full pr-16 input input-primary input-bordered","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.agenda=e}),type:"text",name:"agenda"},[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(this.$store.state.agenda.myAgendas,(function(t){return Object(a["t"])(),Object(a["f"])("option",{key:{agenda:t},value:t},Object(a["D"])(l.$store.state.agenda.agendas[t].name),9,pt)})),128))],512),[[a["F"],t.agenda]])])):Object(a["e"])("",!0),Object(a["g"])("div",mt,[Ot,Object(a["J"])(Object(a["g"])("input",{class:"w-full pr-16 input input-primary input-bordered","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.title=e}),type:"text",placeholder:"Titre",name:"title"},null,512),[[a["G"],t.title]])]),Object(a["g"])("div",jt,[vt,Object(a["J"])(Object(a["g"])("textarea",{class:"textarea w-full h-36 pr-16 textarea-bordered","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.description=e}),type:"text",placeholder:"Description",name:"description"},null,512),[[a["G"],t.description]])]),Object(a["g"])("div",yt,[Dt,Object(a["J"])(Object(a["g"])("input",{type:"datetime-local",class:"input input-bordered","onUpdate:modelValue":e[4]||(e[4]=function(e){return t.startDate=e}),placeholder:"Debut",name:"start"},null,512),[[a["G"],t.startDate]])]),Object(a["g"])("div",wt,[At,Object(a["J"])(Object(a["g"])("input",{type:"datetime-local",class:"input input-bordered","onUpdate:modelValue":e[5]||(e[5]=function(e){return t.endDate=e}),placeholder:"Fin",name:"end"},null,512),[[a["G"],t.endDate]])]),Object(a["g"])("div",xt,[Object(a["g"])("button",{class:"btn btn-primary",onClick:e[6]||(e[6]=function(){return c.createEntry&&c.createEntry.apply(c,arguments)})},[It,Object(a["h"])(Object(a["D"])(this.id?"Save":"Créer !"),1)])])])}var Tt=n("5530"),Mt=n("b85c"),kt=(n("c740"),n("a434"),n("0481"),n("4069"),n("4e82"),n("159b"),n("ac1f"),n("1276"),n("fb6a"),n("a15b"),{between:function(t,e){var n=Object(Q["a"])(t,2),a=n[0],r=n[1];return a<=e&&r>=e},included:function(t,e){var n=Object(Q["a"])(e,2),a=n[0],r=n[1];return this.between(t,a)&&this.between(t,r)},merge:function(t,e){var n,a=this,r=Object(Mt["a"])(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(this.included(i,e))return t}}catch(d){r.e(d)}finally{r.f()}var c=t.filter((function(t){return a.included(e,t)})),s=c.findIndex((function(t){return a.between(t,e[0])})),o=c.findIndex((function(t){return a.between(t,e[1])})),l=e;s>-1&&(l=[c[s][0],l[1]]),o>-1&&(l=[l[0],c[o][1]]),c=c.filter((function(t,e){return e!=s&&e!=o}));var u=0;while(u<c.length&&c[u][0]<l[0])u++;return c.splice(u,0,l),c},getSuperpositions:function(t){var e=t.map((function(){return null})),n=t.map((function(t,e){return[[t[0],e],[t[1],e]]})).flat();n.sort((function(t,e){return t[0]-e[0]}));var a=[];return n.forEach((function(t){if(null==e[t[1]]){var n=a[a.length-1]+1||0;e[t[1]]=n,a.push(n)}else a=a.filter((function(n){return n!=e[t[1]]}))})),e},formatForInput:function(t){var e=t.toLocaleString("sv",{timeZoneName:"short"}).split(" "),n=e[1].split(":");return 2!=n[0].length&&(n[0]="0"+n[0]),2!=n[1].length&&(n[1]="0"+n[1]),[e[0],n.join(":")].join("T").slice(0,-3)}}),Ct=kt,St={data:function(){var t=Object(Tt["a"])({},this.$store.state.sidebar.menuProps),e=this.$store.state.entry.entries[this.$store.state.sidebar.menuProps.id];return e?Object(Tt["a"])(Object(Tt["a"])(Object(Tt["a"])({},t),e),{},{startDate:Ct.formatForInput(e.startDate),endDate:Ct.formatForInput(e.endDate)}):(t.startDate&&(t.startDate=Ct.formatForInput(t.startDate)),t.endDate&&(t.endDate=Ct.formatForInput(t.endDate)),t)},methods:{createEntry:function(){var t,e,n=(null===(t=this.$route)||void 0===t||null===(e=t.params)||void 0===e?void 0:e.id)||this.agendaId||this.agenda;new Date(this.startDate).getTime()>new Date(this.endDate).getTime()?this.alert="La date de fin doit être superieure à la date de debut":n&&this.title&&this.startDate&&this.endDate?this.id?this.$store.dispatch("entry/updateEntry",{agendaId:this.agendaId,id:this.id,title:this.title,description:this.description||"",startDate:this.startDate,endDate:this.endDate}):this.$store.dispatch("entry/createEntry",{agendaId:n,title:this.title,description:this.description||"",startDate:this.startDate,endDate:this.endDate}):this.alert="Tout les champs doivent être rempli"},closeSidebar:function(){this.$store.commit("sidebar/close")}}};n("8363");const Bt=s()(St,[["render",Et],["__scopeId","data-v-6c18aa34"]]);var Rt=Bt,Nt={class:"create-entry-form h-full p-5 form-control relative"},Jt={class:"flex justify-between"},$t={class:"text-lg font-bold"},Wt=Object(a["g"])("i",{class:"fas fa-times"},null,-1),Pt=[Wt],Gt=Object(a["g"])("span",{class:"divider opacity-30"},null,-1),Lt={class:""},Zt=Object(a["g"])("h3",{class:"label",for:"description"},[Object(a["g"])("span",{class:"label-text text-xs opacity-70"},"Description")],-1),zt={class:"pl-3 w-full pr-16"},Ut={class:""},Ft=Object(a["g"])("h3",{class:"label",for:"start"},[Object(a["g"])("span",{class:"label-text text-xs opacity-70"},"Debut - Fin ")],-1),Yt={class:"pl-3"},Ht={class:"flex justify-end h-full items-end"},Vt=Object(a["g"])("i",{class:"fas fa-edit"},null,-1),Qt=[Vt],_t=Object(a["g"])("i",{class:"fas fa-trash"},null,-1),Xt=[_t];function qt(t,e){return Object(a["t"])(),Object(a["f"])("div",Nt,[Object(a["g"])("div",Jt,[Object(a["g"])("h2",$t,Object(a["D"])(t.entry.title)+" : ",1),Object(a["g"])("button",{class:"btn btn-ghost btn-sm",onClick:e[0]||(e[0]=function(){return t.closeSidebar&&t.closeSidebar.apply(t,arguments)})},Pt)]),Gt,Object(a["g"])("div",Lt,[Zt,Object(a["g"])("div",zt,Object(a["D"])(t.entry.description),1)]),Object(a["g"])("div",Ut,[Ft,Object(a["g"])("p",Yt,Object(a["D"])(t.entry.startDate.toLocaleString())+" - "+Object(a["D"])(t.entry.endDate.toLocaleString()),1)]),Object(a["g"])("div",Ht,[Object(a["g"])("button",{class:"btn btn-ghost",onClick:e[1]||(e[1]=function(){return t.editEntry&&t.editEntry.apply(t,arguments)})},Qt),Object(a["g"])("button",{class:"btn ml-1 btn-error",onClick:e[2]||(e[2]=function(){return t.deleteEntry&&t.deleteEntry.apply(t,arguments)})},Xt)])])}var Kt={methods:{closeSidebar:function(){this.$store.commit("sidebar/close")},deleteEntry:function(){this.$store.dispatch("entry/deleteEntry",this.entry.id),this.$store.commit("sidebar/close")},editEntry:function(){this.$store.commit("sidebar/openWithProps",{menu:"createEntry",props:{id:this.entry.id}})}},computed:{entry:function(){var t={id:"lorem ipsum",title:"Lorem Ipsum",description:"Lorem Ipsum",startDate:new Date,endDate:new Date};return this.$store.state.entry.entries[this.$store.state.sidebar.menuProps]||t}}};const te=s()(Kt,[["render",qt]]);var ee=te,ne={class:"h-full p-5 form-control relative"},ae={class:"grow-0 flex justify-between"},re=Object(a["g"])("h2",{class:"text-lg font-bold"},"Agendas :",-1),ie=Object(a["g"])("i",{class:"fas fa-times text-sm"},null,-1),ce=[ie],se=Object(a["g"])("span",{class:"grow-0 divider opacity-30"},null,-1),oe=Object(a["g"])("label",{class:"label",for:"start"},[Object(a["g"])("span",{class:"label-text text-xs opacity-70"},"Agendas :")],-1),le=["onChange"],ue={class:"ml-1"};function de(t,e,n,r,i,c){var s=Object(a["B"])("NewAgenda");return Object(a["t"])(),Object(a["f"])("div",ne,[Object(a["g"])("div",ae,[re,Object(a["g"])("button",{class:"btn btn-ghost btn-sm",onClick:e[0]||(e[0]=function(){return c.closeSidebar&&c.closeSidebar.apply(c,arguments)})},ce)]),se,Object(a["i"])(s,{title:"Créer agenda:",label:"Créer",private:"true"}),oe,Object(a["g"])("ul",null,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(this.agendas,(function(t){return Object(a["t"])(),Object(a["f"])("li",{class:"flex items-center m-1 ml-4",key:t.id},[Object(a["g"])("input",{class:"checkbox checkbox-xs checkbox-primary",type:"checkbox",checked:"true",name:"visible",onChange:function(e){return c.changeHandler(e,t.id)}},null,40,le),Object(a["g"])("p",ue,Object(a["D"])(t.name),1)])})),128))])])}var be={computed:{agendas:function(){var t=this;return this.$store.state.agenda.myAgendas.map((function(e){return t.$store.state.agenda.agendas[e]}))}},methods:{closeSidebar:function(){this.$store.commit("sidebar/close")},changeHandler:function(t,e){var n,a;null!==(n=this.$store.state.sidebar.menuProps)&&void 0!==n&&n.setVisible&&(null===(a=this.$store.state.sidebar.menuProps)||void 0===a||a.setVisible(e,t.target.checked))}},components:{NewAgenda:N}};const fe=s()(be,[["render",de]]);var ge=fe,he={computed:{classObject:function(){return{open:null!=this.$store.state.sidebar.selectedMenu}}},components:{CreateEntryForm:Rt,ShowEntryForm:ee,Agendas:ge}};n("0b03");const pe=s()(he,[["render",at],["__scopeId","data-v-4134f6ea"]]);var me=pe,Oe={class:"table agenda-head border-b-2 filter shadow-lg"},je=["colspan"],ve={class:"opacity-50 text-xs"},ye={class:"text-center"},De={class:"w-full h-full overflow-y-auto agenda-body"},we={class:"table w-full relative"},Ae={class:""},xe=["onClick"];function Ie(t,e,n,r,i,c){var s=Object(a["B"])("Entry");return Object(a["t"])(),Object(a["f"])("div",{class:"w-full agenda h-full flex flex-col",style:Object(a["p"])(c.cssVars)},[Object(a["g"])("table",Oe,[Object(a["g"])("tr",null,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(Object.entries(c.months),(function(t){var e=Object(Q["a"])(t,2),n=e[0],r=e[1];return Object(a["t"])(),Object(a["f"])("th",{class:"p-0 text-sm opacity-50",key:n,colspan:r},Object(a["D"])(n),9,je)})),128))]),Object(a["g"])("tr",null,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(c.dates,(function(t){return Object(a["t"])(),Object(a["f"])("th",{key:t},[Object(a["g"])("p",ve,Object(a["D"])(t.dayName),1),Object(a["g"])("p",ye,Object(a["D"])(t.dayNum),1)])})),128))])]),Object(a["g"])("div",De,[Object(a["g"])("table",we,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(c.entriesProps,(function(t){return Object(a["t"])(),Object(a["d"])(s,{key:t,id:t.id,title:t.title,column:t.column,columnIdx:t.columnIdx,startDate:t.startDate,endDate:t.endDate,color:t.color,level:t.level},null,8,["id","title","column","columnIdx","startDate","endDate","color","level"])})),128)),Object(a["g"])("tbody",Ae,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(c.timeArray,(function(t){return Object(a["t"])(),Object(a["f"])("tr",{key:t},[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(c.dates,(function(e,n){return Object(a["t"])(),Object(a["f"])("td",{key:n,class:"opacity-50 text-xs h-12",onClick:function(n){return c.openCreateEntry(e,t)}},Object(a["D"])(t),9,xe)})),128))])})),128))])])])],4)}var Ee=n("2909");n("a9e3");function Te(t,e,n,r,i,c){return Object(a["t"])(),Object(a["f"])("div",{class:Object(a["o"])(["entry absolute",c.computedClass]),style:Object(a["p"])(c.cssVars),onClick:e[0]||(e[0]=function(t){return c.show()})},Object(a["D"])(n.title),7)}n("25f0");function Me(t){var e=t.toString(16);return 1==e.length?"0"+e:e}var ke={rgbToHex:function(t,e,n){return"#"+Me(t)+Me(e)+Me(n)},hexToRgb:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},stringToColors:function(t){for(var e=0,n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e);for(var a="#",r=0;r<3;r++){var i=e>>8*r&255;a+=("00"+i.toString(16)).substr(-2)}return a}},Ce=ke,Se={props:{id:{type:String},title:{type:String,default:"lorem ipsum"},column:{type:Date,default:function(){var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}},columnIdx:{type:Number,default:0},startDate:{type:Date,default:new Date},endDate:{type:Date,default:function(){var t=new Date;return t.setHours((new Date).getHours()+1),t}},level:{type:Number,default:0},color:{type:String,default:"#006ee6"}},computed:{startInColumn:function(){return this.startDate.getDate()==this.column.getDate()&&this.startDate.getMonth()==this.column.getMonth()&&this.startDate.getYear()==this.column.getYear()},endInColumn:function(){return this.endDate.getDate()==this.column.getDate()&&this.endDate.getMonth()==this.column.getMonth()&&this.endDate.getYear()==this.column.getYear()},contrastingColor:function(){var t=Ce.hexToRgb(this.color),e=t.r,n=t.g,a=t.b;return e+n+a>384?"#000000":"#ffffff"},borderColor:function(){var t=Ce.hexToRgb(this.contrastingColor),e=t.r,n=t.g,a=t.b,r=Ce.hexToRgb(this.color),i=r.r,c=r.g,s=r.b;return Ce.rgbToHex(Math.round(.5*e+.5*i),Math.round(.5*n+.5*c),Math.round(.5*a+.5*s))},cssVars:function(){var t=Math.max((this.startDate.getTime()-this.column.getTime())/1e3/60/60,0);return{"--entry-duration":Math.min((this.endDate.getTime()-Math.max(this.startDate.getTime(),this.column))/1e3/60/60,24-t),"--entry-level":this.level,"--entry-start":t,"--column-index":this.columnIdx,"--entry-background-color":this.color,"--entry-color":this.contrastingColor,"--entry-border-color":this.borderColor}},computedClass:function(){return{"rounded-t-xl":this.startInColumn,"rounded-b-xl":this.endInColumn}}},methods:{show:function(){this.$store.commit("sidebar/openWithProps",{menu:"showEntry",props:this.id})}}};n("f070b");const Be=s()(Se,[["render",Te],["__scopeId","data-v-7f85d9c8"]]);var Re=Be,Ne=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],Je=["Janvier","Fevrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Decembre"],$e={props:{start:{type:Date,default:new Date},interval:{type:Number,default:7},entries:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{dates:function(){var t=this,e=this.start.getDate();return Object(Ee["a"])(Array(this.interval).keys()).map((function(n){var a=new Date(t.start);return a.setDate(e+n),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),{time:a,dayName:Ne[a.getDay()],month:Je[a.getMonth()],dayNum:a.getDate()}}))},months:function(){var t={};return this.dates.forEach((function(e){t[e.month]||(t[e.month]=0),t[e.month]++})),t},timeArray:function(){return Object(Ee["a"])(Array(24).keys()).map((function(t){return[t+":00",t+":30"]})).flat()},cssVars:function(){return{"--agenda-interval":this.interval}},entriesProps:function(){var t=Object(Ee["a"])(this.entries);t.sort((function(t,e){return t.startDate.getTime()-e.startDate.getTime()}));var e=Ct.getSuperpositions(t.map((function(t){return[t.startDate.getTime(),t.endDate.getTime()]})));return this.dates.map((function(n,a){var r=n.time,i=new Date(r);return i.setHours(23),i.setMinutes(59),i.setSeconds(59),i.setMilliseconds(999),t.filter((function(t){return Ct.included([r.getTime(),i.getTime()],[t.startDate.getTime(),t.endDate.getTime()])||Ct.included([t.startDate.getTime(),t.endDate.getTime()],[r.getTime(),i.getTime()])||Ct.between([r.getTime(),i.getTime()],t.startDate.getTime())||Ct.between([r.getTime(),i.getTime()],t.endDate.getTime())})).map((function(t,n){var i=Ce.stringToColors(t.title);return Object(Tt["a"])(Object(Tt["a"])({color:i},t),{},{column:r,columnIdx:a,level:e[n]})}))})).flat()}},methods:{openCreateEntry:function(t,e){var n=e.split(":"),a=new Date(t.time);a.setHours(parseInt(n[0])),a.setMinutes(parseInt(n[1]));var r=new Date(t.time);r.setHours(parseInt(n[0])),r.setMinutes(parseInt(n[1])+30),this.$store.commit("sidebar/openWithProps",{menu:"createEntry",props:{startDate:a,endDate:r}})}},components:{Entry:Re}};n("dc4f");const We=s()($e,[["render",Ie],["__scopeId","data-v-0e0e4452"]]);var Pe=We,Ge={class:"flex justify-between border-b"},Le={class:"flex items-center"},Ze=Object(a["g"])("i",{class:"fas fa-arrow-right"},null,-1),ze={class:"ml-4 text-xs"},Ue={class:"flex items-center"},Fe=Object(a["g"])("i",{class:"fas fa-chevron-left"},null,-1),Ye=Object(a["g"])("i",{class:"fas fa-chevron-left"},null,-1),He=[Fe,Ye],Ve=Object(a["g"])("i",{class:"fas fa-chevron-left"},null,-1),Qe=[Ve],_e=Object(a["g"])("i",{class:"fas fa-chevron-right"},null,-1),Xe=[_e],qe=Object(a["g"])("i",{class:"fas fa-chevron-right"},null,-1),Ke=Object(a["g"])("i",{class:"fas fa-chevron-right"},null,-1),tn=[qe,Ke];function en(t,e,n,r,i,c){return Object(a["t"])(),Object(a["f"])("div",Ge,[Object(a["g"])("div",Le,[Object(a["J"])(Object(a["g"])("input",{class:"input input-ghost input-xs w-36","onUpdate:modelValue":e[0]||(e[0]=function(t){return i.dateInput=t}),type:"date",onChange:e[1]||(e[1]=function(){return c.handleChange&&c.handleChange.apply(c,arguments)})},null,544),[[a["G"],i.dateInput]]),Ze,Object(a["g"])("p",ze,Object(a["D"])(c.getEndDate),1)]),Object(a["g"])("div",Ue,[Object(a["g"])("button",{class:"btn btn-xs btn-ghost",onClick:e[2]||(e[2]=function(){return c.backOneInterval&&c.backOneInterval.apply(c,arguments)})},He),Object(a["g"])("button",{class:"btn btn-xs btn-ghost",onClick:e[3]||(e[3]=function(){return c.backOneDay&&c.backOneDay.apply(c,arguments)})},Qe),Object(a["g"])("button",{class:"btn btn-xs btn-ghost",onClick:e[4]||(e[4]=function(){return c.forwardOneDay&&c.forwardOneDay.apply(c,arguments)})},Xe),Object(a["g"])("button",{class:"btn btn-xs btn-ghost",onClick:e[5]||(e[5]=function(){return c.forwardOneInterval&&c.forwardOneInterval.apply(c,arguments)})},tn)])])}var nn={data:function(){return{dateInput:this.initialDate.toLocaleDateString("en-CA")}},props:{initialDate:{type:Date,default:function(){var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate())}},changeDate:{type:Function,default:function(){return function(t){console.log("date changed : "+t)}}},interval:{type:Number,default:function(){return 7}}},methods:{handleChange:function(t){this.changeDate(new Date(t.target.value))},backOneDay:function(){var t=new Date(this.initialDate);t.setDate(t.getDate()-1),this.changeDate(t),this.dateInput=t.toLocaleDateString("en-CA")},forwardOneDay:function(){var t=new Date(this.initialDate);t.setDate(t.getDate()+1),this.changeDate(t),this.dateInput=t.toLocaleDateString("en-CA")},backOneInterval:function(){var t=new Date(this.initialDate);t.setDate(t.getDate()-this.interval),this.changeDate(t),this.dateInput=t.toLocaleDateString("en-CA")},forwardOneInterval:function(){var t=new Date(this.initialDate);t.setDate(t.getDate()+this.interval),this.changeDate(t),this.dateInput=t.toLocaleDateString("en-CA")}},computed:{getEndDate:function(){var t=new Date(this.dateInput);return t.setDate(t.getDate()+this.interval-1),t.toLocaleDateString()}}};const an=s()(nn,[["render",en]]);var rn=an,cn={xs:420,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},sn={data:function(){var t=new Date;return{windowWidth:window.innerWidth,startDate:t}},methods:{create:function(){var t=this.$route.params.id;this.$store.dispatch("entry/createEntry",{agendaId:t,titre:"test",description:"test"})},onResize:function(){this.windowWidth=window.innerWidth}},computed:{agendaEntries:function(){var t=this.$store.state.entry,e=new Date(this.startDate);return e.setDate(e.getDate()+this.interval),this.$store.getters["entry/hasInfoOnAgenda"]({agendaId:this.$route.params.id,start:this.startDate.getTime(),end:e.getTime()})?t.entriesOfAgenda[this.$route.params.id].entries.map((function(e){return t.entries[e]})):(this.$store.dispatch("entry/queryEntriesOfAgenda",{agendaId:this.$route.params.id,start:this.startDate,end:e}),[])},handleChange:function(){var t=this;return function(e){t.startDate=e}},breakpoint:function(){for(var t=0,e=Object.entries(cn);t<e.length;t++){var n=Object(Q["a"])(e[t],2),a=n[0],r=n[1];if(r>this.windowWidth)return a}return"xs"},interval:function(){return{xs:3,sm:5,md:7,lg:7,xl:7,"2xl":7}[this.breakpoint]}},mounted:function(){var t=this;this.$nextTick((function(){window.addEventListener("resize",t.onResize)}))},beforeUnmount:function(){window.removeEventListener("resize",this.onResize)},components:{MenuButton:K,Sidebar:me,Agenda:Pe,TimelineNavigation:rn}};const on=s()(sn,[["render",V]]);var ln=on,un={class:""},dn=Object(a["g"])("p",null,"Authentification",-1),bn=[dn];function fn(t,e,n,r,i,c){return Object(a["t"])(),Object(a["f"])("div",un,bn)}var gn=n("5502"),hn={setup:function(){var t=Object(d["c"])(),e=window.location.hash.split("=")[1];Object(gn["b"])().dispatch("login/login",e).then((function(){t.push({name:"Home"})}))}};const pn=s()(hn,[["render",fn]]);var mn=pn,On={class:"flex flex-row w-screen overflow-auto"},jn={class:"w-full relative h-screen flex flex-col"},vn=Object(a["g"])("i",{class:"fas fa-plus text-xl"},null,-1),yn=Object(a["g"])("i",{class:"fas fa-list"},null,-1);function Dn(t,e,n,r,i,c){var s=Object(a["B"])("TimelineNavigation"),o=Object(a["B"])("Agenda"),l=Object(a["B"])("MenuButton"),u=Object(a["B"])("Sidebar");return Object(a["t"])(),Object(a["f"])("div",On,[Object(a["g"])("div",jn,[Object(a["i"])(s,{"initial-date":i.startDate,interval:c.interval,changeDate:c.handleChange},null,8,["initial-date","interval","changeDate"]),Object(a["i"])(o,{start:i.startDate,interval:c.interval,entries:c.agendaEntries},null,8,["start","interval","entries"]),Object(a["i"])(l,{class:"absolute right-4 bottom-4 btn btn-primary btn-circle",menu:"createEntry"},{default:Object(a["I"])((function(){return[vn]})),_:1}),Object(a["i"])(l,{class:"absolute right-6 bottom-20 btn btn-ghost btn-circle btn-sm",menu:"agendas",props:{agendas:this.agendas,setVisible:this.setVisible}},{default:Object(a["I"])((function(){return[yn]})),_:1},8,["props"])]),Object(a["i"])(u)])}var wn={xs:420,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},An={data:function(){var t=new Date;return{windowWidth:window.innerWidth,startDate:t,visible:{}}},methods:{onResize:function(){this.windowWidth=window.innerWidth},setVisible:function(t,e){this.visible[t]=e}},computed:{agendas:function(){var t=this.$store.state.agenda;return t.myAgendas.map((function(e){return t.agendas[e]}))},agendaEntries:function(){var t=this,e=this.$store.state.entry,n=this.$store.state.agenda,a=new Date(this.startDate);return a.setDate(a.getDate()+this.interval),n.myAgendas.filter((function(e){return void 0==t.visible[e]||t.visible[e]})).map((function(n){return t.$store.getters["entry/hasInfoOnAgenda"]({agendaId:n,start:t.startDate.getTime(),end:a.getTime()})?e.entriesOfAgenda[n].entries.map((function(t){var a=e.entries[t];return a.color=Ce.stringToColors(n),a})):(t.$store.dispatch("entry/queryEntriesOfAgenda",{agendaId:n,start:t.startDate,end:a}),[])})).flat()},handleChange:function(){var t=this;return function(e){t.startDate=e}},breakpoint:function(){for(var t=0,e=Object.entries(wn);t<e.length;t++){var n=Object(Q["a"])(e[t],2),a=n[0],r=n[1];if(r>this.windowWidth)return a}return"xs"},interval:function(){return{xs:3,sm:5,md:7,lg:7,xl:7,"2xl":7}[this.breakpoint]}},mounted:function(){var t=this;this.$nextTick((function(){window.addEventListener("resize",t.onResize)})),this.$store.state.login.ready.then((function(){t.$store.state.login.login||t.$router.push("/login")}))},beforeUnmount:function(){window.removeEventListener("resize",this.onResize)},components:{MenuButton:K,Sidebar:me,Agenda:Pe,TimelineNavigation:rn}};const xn=s()(An,[["render",Dn]]);var In=xn,En=n("b2ec"),Tn=n.n(En),Mn=n("1b4e"),kn=n.n(Mn),Cn=function(t){return Object(a["w"])("data-v-074a29c0"),t=t(),Object(a["u"])(),t},Sn={class:"login hero min-h-screen bg-base-200"},Bn=Cn((function(){return Object(a["g"])("div",{class:"login-content text-center hero-content rounded-box"},[Object(a["g"])("div",{class:"max-w-md"},[Object(a["g"])("h1",{class:"mb-7 text-4xl font-bold"},"Connexion"),Object(a["g"])("p",{class:"mb-5"}," Connectez vous avec votre compte Google ou Github "),Object(a["g"])("a",{class:"mb-5 google-btn btn rounded-full btn-block btn-outline",href:"http://localhost:3030/oauth/google"},[Object(a["g"])("img",{class:"mr-5",src:Tn.a,alt:""}),Object(a["h"])(" Sign in with Google")]),Object(a["g"])("a",{class:"mb-5 github-btn btn rounded-full btn-block btn-outline",href:"http://localhost:3030/oauth/github"},[Object(a["g"])("img",{class:"mr-5",src:kn.a,alt:""}),Object(a["g"])("span",{class:"text-github-btn"},"Sign in with Github")])])],-1)})),Rn=[Bn];function Nn(t,e,n,r,i,c){return Object(a["t"])(),Object(a["f"])("div",Sn,Rn)}var Jn={};n("4c5c");const $n=s()(Jn,[["render",Nn],["__scopeId","data-v-074a29c0"]]);var Wn=$n,Pn=[{path:"/",name:"Home",component:U},{path:"/auth",name:"Authentification",component:mn},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/agenda/:id",component:ln},{path:"/myAgendas",component:In},{path:"/login",component:Wn}],Gn=Object(d["a"])({history:Object(d["b"])("/"),routes:Pn}),Ln=Gn,Zn=(n("e9c4"),n("7db0"),n("caad"),n("b462")),zn=n.n(Zn),Un=n("4059"),Fn=n.n(Un),Yn=n("8af1"),Hn=n.n(Yn),Vn=n("8055"),Qn=n.n(Vn),_n=n("6bd9"),Xn=Qn()(),qn=zn()().configure(Fn()(Xn)).configure(Hn()({storage:window.localStorage})).hooks({before:{all:[Object(_n["iff"])((function(t){return["create","update","patch"].includes(t.method)}),Object(_n["discard"])("__id","__isTemp"))]}}),Kn=qn,ta=Kn.service("agenda"),ea={agendas:{},recentagenda:[],myAgendas:[]},na={addAgenda:function(t,e){return t.agendas[e.id]=e,t},remove:function(t,e){return delete t.agendas[e],t},addRecentAgenda:function(t,e){return t.recentagenda.push(e),t},removeRecentAgenda:function(t,e){return t.recentagenda=t.recentagenda.filter((function(t){return t!=e})),t},setRecentAgendas:function(t,e){return t.recentagenda=e,t},addMyAgenda:function(t,e){return t.myAgendas.push(e),t},removeMyAgenda:function(t,e){return t.myAgendas=t.myAgendas.filter((function(t){return t!=e})),t},setMyAgendas:function(t,e){return t.myAgendas=e,t}},aa=function(t){var e=localStorage.getItem("recentAgenda");e="undefined"==e||null==e?[]:JSON.parse(e),Promise.all(e.map((function(e){return ta.get(e).then((function(e){t.commit("agenda/addAgenda",e),t.commit("agenda/addRecentAgenda",e.id)})).catch((function(t){console.error(t)}))}))).then((function(){localStorage.setItem("recentAgenda",JSON.stringify(t.state.agenda.recentagenda))})),Kn.on("loged",(function(){t.dispatch("agenda/queryMyAgenda")})),ta.on("created",(function(e){e.userId==t.state.login.self&&(t.commit("agenda/addAgenda",e),t.commit("agenda/addMyAgenda",e.id))})),ta.on("removed",(function(e){t.commit("agenda/remove",e.id),t.commit("agenda/removeMyAgenda",e.id),t.commit("agenda/removeRecentAgenda",e.id),localStorage.setItem("recentAgenda",JSON.stringify(t.state.agenda.recentagenda))}))},ra={createAgenda:function(t,e){return ta.create(e).then((function(e){return console.log("Created agenda : "+e.id),t.commit("addRecentAgenda",e.id),t.commit("addAgenda",e),localStorage.setItem("recentAgenda",JSON.stringify(t.state.recentagenda)),e}))},queryMyAgenda:function(t){var e={userId:"self"};return ta.find({query:e}).then((function(e){e.data.forEach((function(e){t.commit("addAgenda",e),t.commit("addMyAgenda",e.id)}))})).catch((function(){return[]}))}},ia={namespaced:!0,state:ea,mutations:na,actions:ra,plugin:aa},ca=n("1da1"),sa=(n("96cf"),Kn.service("entry")),oa={entries:{},entriesOfAgenda:{},indicator:0},la={setAgendaOfIntrest:function(t,e){var n=e.agendaId,a=e.interval,r=void 0===a?[0,1/0]:a;void 0==t.entriesOfAgenda[n]&&(t.entriesOfAgenda[n]={intrestTimes:[],entries:[]}),t.entriesOfAgenda[n].intrestTimes=Ct.merge(t.entriesOfAgenda[n].intrestTimes,r),t.indicator++},addEntry:function(t,e){var n=e.agendaId,a=e.param,r=Object(Tt["a"])(Object(Tt["a"])({},a),{},{startDate:new Date(a.startDate),endDate:new Date(a.endDate)});void 0==t.entries[r.id]&&(void 0==t.entriesOfAgenda[n||r.agendaId]&&(t.entriesOfAgenda[n||r.agendaId]={intrestTimes:[],entries:[]}),t.entries[r.id]=r,t.entriesOfAgenda[n||r.agendaId].entries.push(r.id),t.indicator++)},editEntry:function(t,e){var n=Object(Tt["a"])(Object(Tt["a"])({},e),{},{startDate:new Date(e.startDate),endDate:new Date(e.endDate)});return void 0==t.entries[n.id]||(t.entries[n.id]=n),t},removeEntry:function(t,e){return void 0==t.entries[e]||(t.entriesOfAgenda[t.entries[e].agendaId].entries=t.entriesOfAgenda[t.entries[e].agendaId].entries.filter((function(t){return t!=e})),delete t.entries[e],t.indicator++),t}},ua={hasInfoOnAgenda:function(t){return function(e){var n=e.agendaId,a=e.start,r=e.end,i=!1;if(void 0==t.entriesOfAgenda[n])return!1;var c,s=Object(Mt["a"])(t.entriesOfAgenda[n].intrestTimes);try{for(s.s();!(c=s.n()).done;){var o=c.value;i=i||Ct.included(o,[a,r])}}catch(l){s.e(l)}finally{s.f()}return i}},isOfIntrest:function(t){return function(e){var n=e.agendaId,a=e.date,r=!1;if(!t.entriesOfAgenda[n])return!1;var i,c=Object(Mt["a"])(t.entriesOfAgenda[n].intrestTimes);try{for(c.s();!(i=c.n()).done;){var s=i.value;r=r||Ct.between(s,a)}}catch(o){c.e(o)}finally{c.f()}return r}}},da={createEntry:function(t,e){return sa.create(e).then((function(t){return console.log("Created entry : "+t.id),t}))},deleteEntry:function(t,e){return sa.remove(e).then((function(){console.log("Deleted entry : "+e)}))},updateEntry:function(t,e){return sa.patch(e.id,e).then((function(){console.log("Updated entry : "+e.id)}))},queryEntriesOfAgenda:function(t,e){var n=t.commit,a=e.agendaId,r=e.start,i=e.end;n("setAgendaOfIntrest",{agendaId:a,start:r,end:i});var c={agendaId:a,$or:[{startDate:{$lte:i,$gte:r}},{endDate:{$lte:i,$gte:r}}]};return sa.find({$skip:0,query:c}).then(function(){var t=Object(ca["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.data.forEach((function(t){n("addEntry",{agendaId:a,param:t})})),r=e.limit,c.$skip=r;case 3:if(!(c.$skip<e.total)){t.next=9;break}return t.next=6,sa.find({query:c}).then(function(){var t=Object(ca["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.data.forEach((function(t){n("addEntry",{agendaId:a,param:t})}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.error(t)}));case 6:c.$skip+=r,t.next=3;break;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.error(t)}))}},ba=function(t){console.log("Listening For New Entries"),sa.on("created",(function(e){(t.getters["entry/isOfIntrest"]({agendaId:e.agendaId,date:new Date(e.startDate).getTime()})||t.getters["entry/isOfIntrest"]({agendaId:e.agendaId,date:new Date(e.endDate).getTime()}))&&t.commit("entry/addEntry",{param:e})})),sa.on("updated",(function(e){t.commit("entry/editEntry",e)})),sa.on("patched",(function(e){t.commit("entry/editEntry",e)})),sa.on("removed",(function(e){t.commit("entry/removeEntry",e.id)}))},fa={namespaced:!0,state:oa,getters:ua,mutations:la,actions:da,plugin:ba},ga={selectedMenu:null,menuProps:{}},ha={open:function(t,e){return t.menuProps={},t.selectedMenu=e,t},openWithProps:function(t,e){var n=e.menu,a=e.props;return t.menuProps=a,t.selectedMenu=n,t},close:function(t){return t.selectedMenu=null,t}},pa={},ma={namespaced:!0,state:ga,mutations:ha,actions:pa},Oa={login:!1,self:"",ready:null},ja={login:function(t,e){t.self=e,t.login=!0,Kn.emit("loged")},logout:function(t){t.login=!1},setWaiting:function(t,e){t.ready=e}},va={login:function(t,e){var n=t.commit;return Kn.reAuthenticate().catch((function(){return Kn.authenticate({strategy:"jwt",accessToken:e})})).then((function(t){n("login",t.user.id)}))}},ya=function(t){t.commit("login/setWaiting",Kn.reAuthenticate().then((function(e){t.commit("login/login",e.user.id)})).catch((function(){t.commit("login/logout")})))},Da={namespaced:!0,state:Oa,mutations:ja,actions:va,plugin:ya},wa=Object(gn["a"])({state:{},mutations:{},actions:{},modules:{agenda:ia,entry:fa,sidebar:ma,login:Da},plugins:[Da.plugin,fa.plugin,ia.plugin]});n("d940");Object(a["c"])(u).use(wa).use(Ln).mount("#app")},"59c1":function(t,e,n){"use strict";n("b7d5")},"69c5":function(t,e,n){},"6fde":function(t,e,n){},"7a55":function(t,e,n){},8363:function(t,e,n){"use strict";n("7a55")},a2da:function(t,e,n){},b2ec:function(t,e,n){t.exports=n.p+"img/Google__G__Logo.b7727941.svg"},b7d5:function(t,e,n){},d070:function(t,e,n){"use strict";n("a2da")},d940:function(t,e,n){},dc4f:function(t,e,n){"use strict";n("69c5")},df38:function(t,e,n){"use strict";n("09c9")},f070b:function(t,e,n){"use strict";n("6fde")}});
//# sourceMappingURL=app.05e29d8d.js.map